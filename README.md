# Загрузка файлов с Yandex.Disk


[**Посмотреть проект**](https://328c22e35a29.vps.myjino.ru): https://328c22e35a29.vps.myjino.ru  
[GitHub](https://github.com/avdivo/yandex_file_manager.git): https://github.com/avdivo/yandex_file_manager.git

```url
https://disk.yandex.ru/d/yYcDCdIrgJzb6Q
```
Публичная папка для проверки


## Описание
Веб-приложение на Django, которое показывает содержимое публичной папки API Яндекс.Диска и позволяет загрузить выбранные файлы.

## Функции  
- просмотр файлов на Яндекс.Диске по вводу публичной ссылки (public_key)
- систему фильтрации файлов по типу
- загрузка определенного файла на локальный компьютер
- возможность выбора нескольких файлов для одновременного скачивания
- кэширование списка файлов на сервере
- удобный и простой интерфейс
- получать список файлов с Яндекс.Диска с помощью REST API.

## Использование
1. Стартовая страница имеет поле ввода для публичной ссылки, которое сразу получает фокус ввода.  
   Дла подтверждения ввода нужно нажать Enter.
   Все ошибки и сообщения отображаются н нижней строке.
2. После правильного ввода публичной ссылки откроется окно, содержащее список папок и файлов находящихся в папке по этой ссылке.
   В верхней панели окно имеет кнопки для фильтрации документов по типу: "Все", "Медиа", "Документы". И кнопку "Скачать" позволяющую загрузить выбранные файлы.  
   Выбор файлов для скачивания осуществляется установкой флажка в строке нужного файла.  
   Для одиночной загрузки файла служит кнопка загрузки в строке файла.
3. Процесс загрузки файла отмечается анимированным спинером, в поле соответствующего файла.  
4. Сообщения об ошибках показываются во всплывающих сообщениях.
5. В нижней строке отображается ссылка на открытую публичную папку. И кнопка перехода на стартовую страницу.

## Структура проекта

```plaintext
yandex_file_manager/
├── .venv/                       # Виртуальная среда проекта
├── templates/                   # Шаблоны Django
│   ├── cat.html                 # Шаблон для отображения списка файлов
│   └── index.html               # Шаблон стартовой страницы
├── yandex_file_manager/         # Основной каталог приложения
│   ├── services/                # Сервисы и утилиты
│   │   ├── __init__.py          # Инициализация пакета
│   │   ├── cache.py             # Сервис для работы с кэшем
│   │   ├── exceptions.py        # Пользовательские исключения
│   │   └── yadisk_service.py    # Сервис для взаимодействия с Яндекс.Диском
│   ├── __init__.py              # Инициализация пакета приложения
│   ├── asgi.py                  # Конфигурация ASGI
│   ├── settings.py              # Настройки Django
│   ├── urls.py                  # Маршруты URL
│   ├── views.py                 # Представления Django
│   └── wsgi.py                  # Конфигурация WSGI
├── docker-compose.yml           # Конфигурация Docker Compose
├── Dockerfile                   # Конфигурация Docker
├── manage.py                    # Скрипт для управления Django
├── README.md                    # Документация проекта
└── requirements.txt             # Список зависимостей
```

## Используемые зависимости
Django~=5.1.7  
aiohttp~=3.11.13

## Установка и запуск
1. Открыть терминал.
2. Перейти в папку, где будет проект.
3. Клонировать репозиторий:
    ```bash
    git clone https://github.com/avdivo/yandex_file_manager
    ```
4. Войти в папку проекта.
    ```bash
    cd yandex_file_manager
    ```
5. Создать и активировать виртуальное окружение
    ```bash
    python3 -m venv venv
    source venv/bin/activate 
    ```
6. Установить зависимости
   ```bash
    pip install -r requirements.txt 
   ```
7. Запустить проект
    ```bash
    python manage.py runserver
    ```
   
##  Запуск в Docker контейнере

1. Открыть терминал.
2. Перейти в папку, где будет проект.
3. Клонировать репозиторий:
    ```bash
    git clone https://github.com/avdivo/yandex_file_manager
    ```
4. Войти в папку проекта.
    ```bash
    cd yandex_file_manager
    ```
5. Запустить контейнер:
    ```bash
    docker compose up
    ```
6. Остановить и удалить контейнер:
    ```bash
    docker compose down
    ```
